<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sign Up - Beyond The Screen</title>
  <link rel="stylesheet" href="signup.css" />
</head>
<body>

  <header>
    <div class="logo">
      <img src="image/icon/bts logo.png" alt="logo" width="60" height="60">
    </div>
  </header>

  <main class="auth-container">
    <h1>Create an Account</h1>
    <form onsubmit="return signupUser(event)" class="auth-form">
      <label>Email:</label>
      <input type="email" id="signupEmail" required />

      <label>Password:</label>
      <input type="password" id="signupPassword" required />

      <button type="submit">Sign Up</button>
      <p>Already have an account? <a href="login.html">Log in here</a>.</p>
    </form>
  </main>

<script>
function signupUser(event) {
  event.preventDefault();
  const email = document.getElementById("signupEmail").value.trim();
  const password = document.getElementById("signupPassword").value;

  fetch('signup.php', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email, password })
  })
  .then(res => res.json().then(body => ({ ok: res.ok, body })))
  .then(({ ok, body }) => {
    if (!ok) {
      alert(body.error || 'Signup failed');
      return;
    }
    alert('Account created successfully. Please log in.');
    window.location.href = 'login.html';
  })
  .catch(err => {
    console.error(err);
    alert('Network error');
  });

  return false;
}
</script>
</body>
</html>
